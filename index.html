<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AquaGuard Permit Checking Tool v1.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:#0b1220;
  color:#e5e7eb;
}
.container { max-width:720px; margin:auto; padding:16px; }
.banner img { width:100%; border-radius:14px; }
.tabs { display:flex; gap:8px; margin-top:12px; }
.tab {
  flex:1; padding:10px; border-radius:12px;
  background:#020617; border:1px solid #1f2933;
 text-align:center; cursor:pointer;
}
.tab.active { background:#111827; }
.card {
  background:#111827; border-radius:16px;
  padding:16px; margin-top:16px;
}
label { color:#9ca3af; font-size:14px; }
input, select {
  width:100%; padding:12px; margin-top:6px; margin-bottom:12px;
  border-radius:10px; border:1px solid #374151;
  background:#020617; color:#fff;
}
button {
  width:100%; padding:14px; border-radius:12px;
  border:none; background:#22c55e; color:#052e16;
  font-weight:700; cursor:pointer;
}
.status { margin-top:12px; padding:14px; border-radius:12px; }
.yes { background:#064e3b; }
.no { background:#052e16; }
.maybe { background:#422006; }
.confidence-bar {
  height:8px; border-radius:8px; background:#1f2937; margin-top:8px;
}
.confidence-fill {
  height:8px; border-radius:8px; background:#22c55e;
}
.footer {
  margin-top:28px; text-align:center;
  font-size:13px; color:#9ca3af;
}
.footer img { width:80px; border-radius:50%; margin-top:10px; }
.hidden { display:none; }
a { color:#60a5fa; }
</style>
</head>

<body>
<div class="container">

<div class="banner">
  <img src="aquaguard-logo.PNG" alt="AquaGuard Permit Tool">
</div>

<div class="tabs">
  <div class="tab active" onclick="showTab('checker')">Checker</div>
  <div class="tab" onclick="showTab('instructions')">Instructions</div>
</div>

<div id="checker" class="card">
<label>Property Address / City / ZIP (Georgia)</label>
<input id="address" placeholder="250 Peachtree St NE Atlanta GA 30303">

<label>Service Type</label>
<select id="service">
  <option value="helical">Helical Piers</option>
  <option value="push">Push Piers</option>
  <option value="wall">Wall Anchors (All Types)</option>
  <option value="slab">Slab Piers (Exempt)</option>
</select>

<button onclick="checkPermit()">Check Permit</button>

<div id="result" class="status hidden"></div>

<div class="confidence-bar hidden" id="confBar">
  <div class="confidence-fill" id="confFill"></div>
</div>

<button style="margin-top:12px;background:#020617;color:#e5e7eb;border:1px solid #374151"
onclick="window.open('https://qpublic.schneidercorp.com','_blank')">
Open qPublic
</button>

<p style="margin-top:10px">
<a href="Permit_Instructions_2026-01-22.pdf" target="_blank">
View official permit instructions (PDF)
</a>
</p>

<hr style="margin:20px 0;border-color:#1f2937">

<h3>Export Audit PDF</h3>
<label>Inspector Name (CFI)</label>
<input id="inspName" placeholder="Mr. Mustache">

<label>Inspector Initials</label>
<input id="inspInit" placeholder="MM">

<button onclick="exportPDF()">Export PDF</button>
</div>

<div id="instructions" class="card hidden">
<p>
This tool provides permit guidance based on AquaGuard Foundation Solutions
permit rules (updated 1/22/2026).
</p>
<ul>
<li>Enter any Georgia address, city, or ZIP.</li>
<li>Select the service being proposed.</li>
<li>Results reflect internal permit policy.</li>
<li>Always verify jurisdiction via qPublic.</li>
</ul>
</div>

<div class="footer">
<p><strong>Tool created by:</strong><br>
Matthew Urbanski, CFI<br>
Matthew.Urbanski@AquaGuard.net<br>
470-568-1681
</p>
<img src="matthew-urbanski.PNG">
<p>Guidance only. Jurisdiction must be verified before contract execution.</p>
</div>

</div>

<script>
function showTab(id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
  event.target.classList.add('active');
}

function checkPermit(){
  const raw = document.getElementById("address").value.toLowerCase();
  const service = document.getElementById("service").value;
  const result = document.getElementById("result");
  const bar = document.getElementById("confBar");
  const fill = document.getElementById("confFill");

  const cityMap = {
    kennesaw:"Cobb", smyrna:"Cobb", marietta:"Cobb",
    canton:"Cherokee", woodstock:"Cherokee",
    atlanta:"Fulton", "stone mountain":"DeKalb"
  };
  const zipMap = {
    "30152":"Cobb","30080":"Cobb","30115":"Cherokee",
    "30303":"Fulton","30309":"Fulton","30339":"Fulton"
  };

  let county="", confidence=40;

  for (let c in cityMap){
    if (raw.includes(c)){ county=cityMap[c]; confidence=80; break; }
  }

  if (!county){
    const zip = raw.match(/\b\d{5}\b/);
    if (zip && zipMap[zip[0]]){
      county=zipMap[zip[0]]; confidence=60;
    }
  }

  result.classList.remove("hidden");
  bar.classList.remove("hidden");
  fill.style.width = confidence + "%";

  if (!county){
    result.className="status maybe";
    result.innerHTML="<strong>Check / Try</strong><br>Jurisdiction unclear. Verify via qPublic.";
    return;
  }

  if (service==="slab"){
    result.className="status no";
    result.innerHTML="<strong>No Permit Required</strong><br>Slab piers are exempt per policy.";
    return;
  }

  result.className="status yes";
  result.innerHTML="<strong>Permit Required</strong><br>"+county+" County requires permits.";
}

function exportPDF(){
  alert("PDF export ready for v1.1 (locked layout confirmed).");
}
</script>

</body>
</html>
